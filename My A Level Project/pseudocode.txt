red = (224, 17, 95)
green = (0, 168, 107)
blue = (0, 105, 225)
yellow = (228, 208, 10)
orange = (204, 119, 34)

Class Game
    Public title  
    Public level
    public gridSize
    public cellSize
    public pathWidth
    public pathColour
    public windowWidth
    public windowHeight
    public gridColour
    public bgColour
    public bgImage = “bg.png”


    public procedure main()
        menu = self.Menu()
        menu.displayMenu()
   
    public procedure quit()
        exit()

Class menu
    Public leaderboard
    Public gameStart
    Public buttons
    public bigButtonHeight
    public bigButtonWidth
    public smallButtonHeight
    public smallButtonWidth

    Public procedure displayMenu()
        display “background image”
        drawTitle()
        createButtons()
        while game is running
            if button is clicked
                if button is start
                    gameStart()
                if button is leaderboard
                    leaderboard()
                if button is quit
                    quit()
            end if
        end while

    Public procedure drawTitle(self)
        display “title”
   
    Public procedure createButtons(self)
        display “start button”
        display “leaderboard button”
        display “quit button”

    Public procedure gameStart(self)
        print "Game started"

    Public procedure leaderboard(self)
        print "Leaderboard displayed"

    Public procedure text(self, text, font)
        surface = font.render(text, True, (0, 0, 0))
        return surface, surface.get_rect()

Class button
    Public text
    Public x
    Public y
    Public width
    Public height
    Public activeColour
    Public inactiveColour
    Public action

    Public procedure drawButton()
        if mouse is over button
            display activeColour
            if mouse is clicked
                action()
            else
                display inactiveColour
        else
            display inactiveColour
        display text

Class levelSelection
    Public levels
    Public level
    Public buttons
    Public levelButtonHeight
    Public levelButtonWidth

    Public procedure displayLevels()
        display “background image”
        drawTitle()
        createButtons2()
        while game is running
            if button is clicked
                if button is "Easy"
                    newEasyLevel = level()
                    newEasyLevel.easyLevelGame()  
                else if button is "Medium"
                    newMediumLevel = level()
                    newMediumLevel.mediumLevelGame()
                else if button is "Hard"
                    newHardLevel = level()
                    newHardLevel.hardLevelGame()
                else if button is "Back"
                    menu.displayMenu()
            end if
        end while

    Public procedure drawTitle()
        display “title”

    Public procedure createButtons2()
        display “Easy- 5x5”
        display “Medium- 7x7”
        display “Hard- 10x10”
        display “Back”

Class Grid
    self.rows = rows
    self.cols = cols
    self.cellSize = cellSize
    self.pathWidth = pathWidth
    self.grid = []
    self.paths = []

    self.startNodes = {} 
    self.endNodes = {} 
    self.allNodes = [] 
    self.distances = {} 
    self.sortedNodes = [] 
    self.pathFindPuzzle = []

    Public procedure drawDots()
        self.grid = [[0,0,0,0,0]]
        self.grid.append([0,0,0,0,0])
        self.grid.append([0,0,0,0,0])
        self.grid.append([0,0,0,0,0])
        self.grid.append([0,0,0,0,0])
        
        for i in range(0,5):
            x1 = random.randint(0,4)
            y1 = random.randint(0,4)
            x2 = random.randint(0,4)
            y2 = random.randint(0,4)

            self.grid[x1][y1] = i
            self.grid[x2][y2] = i

    Public procedure solvePuzzle(grid):
        if checkGrid(grid) is False:
            Return False
        
        if returnSolved(grid) is True:
            Return True

        for dotNum in sortedNodes 
            start = startNodes[dotNum]
            end = endNodes[dotNum]

            if distance between start and end > 1:
                directions = EMPTY LIST

                if value to the RIGHT of start = 0:
                    if end is to the RIGHT of start:
                        INSERT "right" at the beginning of directions
                    else:
                        ADD "right" to the end of directions

                if value to the LEFT of start = 0:
                    if end is to the LEFT of start:
                        INSERT "left" at the beginning of directions
                    else:
                        ADD "left" to the end of directions

                if value BELOW start = 0:
                    if end is BELOW start:
                        INSERT "down" at the beginning of directions
                    else:
                        ADD "down" to the end of directions

                if value ABOVE start = 0:
                    if end is ABOVE start:
                        INSERT "up" at the beginning of directions
                    else:
                        ADD "up" to the end of directions

                if directions is EMPTY:
                    Return False

                for direction in directions:
                    if direction = "right":
                        MOVE start RIGHT
                        grid[start] = dotNum
                        if solvePuzzle(grid) is True:
                            Return True
                        else:
                            RESET start and grid

                    else if direction = "left":
                        MOVE start LEFT
                        grid[start] = dotNum
                        if solvePuzzle(grid) is True:
                            Return True
                        else:
                            RESET start and grid

                    else if direction = "up":
                        MOVE start UP
                        grid[start] = dotNum
                        if solvePuzzle(grid) is True:
                            Return True
                        else:
                            RESET start and grid

                    else if direction = "down":
                        MOVE start DOWN
                        grid[start] = dotNum
                        if solvePuzzle(grid) is True:
                            Return True
                        else:
                            RESET start and grid
            Return False

    Public procedure checkGrid(grid)
        for row in range(self.rows)
            for col in range(self.cols)
                if grid[row][col] > 0:
                    dotNum = grid[row][col]
                    
                    if value BELOW > 0 AND value BELOW != dotNum:
                        if value ABOVE > 0 AND value ABOVE != dotNum:
                            if value RIGHT > 0 AND value RIGHT != dotNum:
                                if value LEFT > 0 AND value LEFT != dotNum:
                                    Return False

                    if value BELOW = dotNum AND value ABOVE = dotNum AND value RIGHT = dotNum:
                        Return False
                    
                    else if value BELOW = dotNum AND value ABOVE = dotNum AND value LEFT = dotNum:
                        Return False
                    
                    else if value BELOW = dotNum AND value RIGHT = dotNum AND value LEFT = dotNum:
                        Return False
                    
                    else if value ABOVE = dotNum AND value RIGHT = dotNum AND value LEFT = dotNum:
                        Return False

        Return True

    Public procedure returnSolved(total):
        if total == 25:
            return True
        else:
            return False

    Public procedure abs(a , b):
        if a > b:
            return a - b
        else:
            return b - a

    Public procedure drawGrid()
        for row in range(self.rows)
            for col in range(self.cols)

                if puzzle[row][col] > 0:
                    if puzzle[row][col] IS IN startNodes:
                        endNodes[puzzle[row][col]] = (row, col)
                        distances[puzzle[row][col]] = abs(row - startNodes[puzzle[row][col]][0]) + abs(col - startNodes[puzzle[row][col]][1])
                    else:
                        startNodes[puzzle[row][col]] = (row, col)
                    
                    ADD (row, col) TO allNodes

                drawRectangle(col * cellSize, row * cellSize, cellSize, cellSize, gridColour)
                self.drawDots()
                if self.grid != 0
                circle_center = (col * cellSize + cellSize // 2, row * cellSize + cellSize // 2)
                    if self.grid[row][col] == 1
                        drawCircle(display, red, circle_center, circle_radius)
                    else if self.grid[row][col] == 2
                        drawCircle(display, blue, circle_center, circle_radius)
                    else if self.grid[row][col] == 3
                        drawCircle(display, green, circle_center, circle_radius)
                    else if self.grid[row][col] == 4
                        drawCircle(display, yellow, circle_center, circle_radius)
                    else if self.grid[row][col] == 5
                        drawCircle(display, orange, circle_center, circle_radius)
                    end if        
                end if
            end for
        end for


    Public procedure getNumber()
        return self.grid[row][col]

    Public procedure getCellPos(pos):
        x,y = pos
        if row < 0 or col < 0 or row > 4 or col > 4:
            return None
        return (col, row)

Class level
    Public levelNum
    Public gridSize
    Public cellSize
    Public pathWidth
    Public pathColour
    Public gridColour
    Public bgColour
    Public bgImage = “bg.png”

    Public procedure main()
        levelSelection = self.levelSelection()
        levelSelection.displayLevels()

    Public procedure createButtons3(self)
        display "Undo"
        display "Hint"
        display "Reset"
        display "Quit"

    Public procedure createButtons4(self)
        display "Next Level"
        display "Level Selection"
        display "Quit"

    Public procedure resetLvl(self)
        self.easyLevelGame

    Public procedure undoMove(self)
        if self.undo == 1:
            removed = len(self.paths[-1])
            self.total -= removed
            self.paths.pop()
            self.undo -= 1
        else:
            print "no undo"

    Public procedure hint(self):
        print "hint"

    Public procedure easyLevelGame(self)
        newGrid = Grid(newGrid.rows, newGrid.cols, newGame.cellSize, newGrid.pathWidth)
        self.drawing = False
        self.total = 0
        self.length = 0
        self.moves = 0
        self.undo = 1
        self.level = True
        self.paths = []
        self.createButtons3
       
        while newGame.running:
            if newGrid.solvePuzzle(newGrid.puzzle) is True:
                print "solved"
            else:
                print "not solved"
                
            for event in pygame.event.get():
                if event.type == pygame.QUIT:
                    newGame.running = False
               
                elif event.type == pygame.MOUSEBUTTONDOWN:
                    self.drawing = True
                    mousePos = pygame.mouse.getCellPos()
                    self.paths.append(mousePos)

                elif event.type == pygame.MOUSEBUTTONUP:
                    self.drawing = False
                    self.total += self.length
                    self.moves += 1
                   
                elif event.type == pygame.MOUSEMOTION and self.drawing
                    mousePos = pygame.mouse.getCellPos()
                    self.length = len(self.paths)
               
                for button in self.buttons:
                    button.brawButton()

            if self.drawing:
                pathColour = 0
                if mousePos == None:
                    self.drawing = False
                else:
                    dotNum = newGrid.getNumber(mousePos[1], mousePos[2])
                    if dotNum == 1:
                        pathColour = red
                    elif dotNum == 2:
                        path colour = blue
                    elif dotNum == 3:
                        path colour = green
                    elif dotNum == 4:
                        path colour = yellow
                    elif dotNum == 5:
                        path colour = orange
                   
                    startPos = ((self.paths[i][0] * newGrid.cellSize + newGrid.cellSize//2), self.paths[i][1] * newGrid.cellSize + newGrid.cellSize // 2)
                    endPos = ((self.paths[i + 1][0] * newGrid.cellSize + newGrid.cellSize//2), self.paths[i + 1][1] * newGrid.cellSize + newGrid.cellSize // 2)

            if self.total == 25:
                newGame.running = False
                self.solved()

    Public procedure solved(self):
        self.createButtons4()
        while not newGame.levelSolved:
            for event in pygame.event.get():
                if event.type == pygame.QUIT:
                    newGame.quit()

                for button in self.buttons:
                    button.drawButton()
            self.total = 0
            self.moves = 0
           
    Public procedure mediumLevelGame()
        print "Medium level game started"

    Public procedure hardLevelGame()
        print "Hard level game started"




game = new Game()
game.main()